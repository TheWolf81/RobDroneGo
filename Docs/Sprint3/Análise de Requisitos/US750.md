# Análise de requisitos US 750

## Abordagem para utilização dum módulo IAM

* O utilizador pode escolher associar a sua conta à sua conta Microsoft, Google, etc, no momento de criação de um pedido de registo de conta como cliente.
* Ao clicar num botão de autenticação com Auth0 será redirecionado ou abrirá um pop-pup para pedir o log-in com um destes serviços.
  Sendo o log-in efetuado com sucesso, alguns dos campos serão preenchidos automaticamente a partir das informações da conta Microsoft, Google, etc, como o primeiro e último nome, username, email e numero de telemovel, se este se encontrar disponivel. O utilizador terá entao de preencher os restantes campos para efetuar o pedido de registo na nossa base de dados.
* Sendo o pedido aceite, o utilizador pode efetuar o log in, escrevendo o seu email e a password.

## Abordagem ideal

* O ideal, pensando em outros websites que implementam features iguais, seria ter tudo automatizado, ou seja, apenas fazer o login com a Microsoft, Google e entrar logo na aplicação sem ser necessário introduzir mais nada. Esta abordagem, a nosso ver, não vai de encontro com o negócio nem com a implementação que fizemos pois um utilizador não teria NIF nem numero de telefone, nem provavelmente teria um status do pedido de registo. Seria díficil também criar um registo automático desse user na base de dados com a implementação que temos de momento.
* Outro impasse que teríamos se seguissemos a abordagem ideal seriam os tokens e os middlewares. O token é gerado a partir da função de log-in do backend (com email e password) e colocado no header do request dos pedidos http, e utiliza parametros como o domain id na base dados para a sua geração. O auth0 gera um token próprio, mas esse token nada tem a ver com a gestão de premisões da nossa aplicação.
